<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="author" content="rahak">
    <meta name="generator" content="jekyll">
    <meta name="description" content="{{ site.description }}">
    <meta name="keywords" content="{{ site.keywords }}">
    
    <link rel="stylesheet" href="{{ site.baseurl }}/css/index.css">
    
    <script type="text/javascript" src="js/script.js"></script>
    <title>{{ site.title }} | {{ page.title }}</title>
</head>
<body class="{{ page.title }}">
    
 
  <svg id="svg" viewBox="0 0 1050 850">
       
    <path id="rectangle" d="M 10 10 H 1040 V 570 H 10 Z" fill="transparent"/>
   
    <text>
      <textPath id="sideNote2" href="#rectangle"  style="font-size: 0.8rem;" startOffset="0">In a sideways manner&ensp;...&ensp; is a bi-weekly publishing platform that documents the current activities, research and writing by students of the MA graphic design program at the Estonian Academy of Arts in Tallinn, Estonia.
        <!--<animate attributeName="startOffset" from="-40%" to="250%" begin="0s" dur="20s" repeatCount="indefinite"></animate>--></textPath>
      <textPath id="sideNote" href="#rectangle" style="font-size: 0.8rem;" startOffset="0">In a sideways manner&ensp;...&ensp; is a bi-weekly publishing platform that documents the current activities, research and writing by students of the MA graphic design program at the Estonian Academy of Arts in Tallinn, Estonia.
        <!--<animate attributeName="startOffset" from="-40%" to="250%" begin="0s" dur="20s" repeatCount="indefinite"></animate>--></textPath>
    </text>
  </svg>
   
      
  

  <div class="" id="parent">

        <div class="grid">
            {% for post in site.posts %}
            
           
                <figure>
                <img src="{{site.baseurl}}{{ post.image }}" alt="">
                <figcaption>
                <a href="{{site.baseurl}}{{ post.file }}">{{ post.title }}</a><br>by {{post.author }}
                <time class="text-align-end">{{ post.date | date: "%b %d, %Y" }}</time>
            </figcaption>
                </figure>
           
        
            {% endfor %}
        </div>
   
    
    </div>              
          

            
            {{ content }}

            
    </div>
   
</body>
</html>

<script>
  let svg = document.getElementById("svg");
  let rectangle = document.getElementById("rectangle");
  let rectangleLength = rectangle.getTotalLength();
  let sideNote = document.getElementById("sideNote");
  let sideNote2 = document.getElementById("sideNote2");
  
  function updateTextPathOffset(offset, offset2) {
    sideNote.setAttribute("startOffset", offset);
    sideNote2.setAttribute("startOffset", offset2);
  }
  
  function move() {
    requestAnimationFrame(function () {
      // Calculate scroll position based on the scroll amount -3179
      let scrollAmount = window.scrollX; // Adjust the divisor to control the scroll speed
      let scrollPosition = scrollAmount % rectangleLength;
  
      // Calculate the adjusted startOffset
      let adjustedOffset = (scrollPosition + rectangleLength) % rectangleLength;
  console.log(adjustedOffset);
      let adjustedOffset2 = (adjustedOffset - 3179); 
      // Update the text position
      updateTextPathOffset(adjustedOffset, adjustedOffset2);
      
  
      move(); // Call the move function recursively for continuous animation
    });
  }
  
  // Add an event listener to trigger the move function on scroll
  window.addEventListener("scroll", move);
  

  </script>

  
  
  
  